node {
    
def mavenHome = tool name: "maven3.8.5"
// checkout stage                                       
stage ('checkoutcode'){
git 'https://github.com/omairmomin/maven-web-application.git'
}
// build stage                                            
stage ('build'){
sh "$mavenHome/bin/mvn clean package"
}

//genrate sonarqube report

stage ('sonarqube report'){
sh "$mavenHome/bin/mvn sonar:sonar"
}


// upload artifact into artifactory repository

stage ('upload artifact into nexus'){
sh "$mavenHome/bin/mvn deploy"
}

}// node closeing
